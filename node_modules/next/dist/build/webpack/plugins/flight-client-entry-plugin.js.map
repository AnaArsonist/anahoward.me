{"version":3,"sources":["../../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["PLUGIN_NAME","injectedClientEntries","Map","serverModuleIds","edgeServerModuleIds","serverCSSManifest","edgeServerCSSManifest","FlightClientEntryPlugin","constructor","options","dev","appDir","isEdgeServer","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","traverseModules","mod","request","resource","buildInfo","rsc","moduleGraph","isAsync","ASYNC_CLIENT_MODULES","add","recordModule","modId","modResource","resourceResolveData","path","layer","WEBPACK_LAYERS","client","ssrNamedModuleId","relative","context","startsWith","normalizePathSep","replace","_chunk","_chunkGroup","String","addClientEntryAndSSRModulesList","forEachEntryModule","callback","name","entry","entries","entryDependency","entryModule","getResolvedModule","forEach","dependency","modRequest","includes","internalClientComponentEntryImports","Set","connection","getOutgoingConnections","entryRequest","clientComponentImports","collectClientComponentsAndCSSForDependency","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","push","injectClientEntryAndSSRModules","entryName","APP_CLIENT_INTERNALS","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","regexCSS","test","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","__entry_css_mods__","Object","assign","clientEntryDependencyMap","get","includeDependencies","dep","tracked","has","cssImports","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","manifest","JSON","stringify","undefined","FLIGHT_SERVER_CSS_MANIFEST","sources","RawSource","invalidator","getInvalidator","some","shouldInvalidate","invalidate","COMPILER_NAMES","Promise","all","map","addClientEntryAndSSRModules","visitedBySegment","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","rawRequest","isCSS","query","storeKey","isClientComponent","isClientComponentModule","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","EDGE_RUNTIME_WEBPACK","loaderOptions","server","clientLoader","importPath","clientSSRLoader","pageKey","type","EntryTypes","CHILD_ENTRY","parentEntries","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry"],"mappings":"AAAA;;;;;AAOwB,IAAA,QAAoC,WAApC,oCAAoC,CAAA;AAClC,IAAA,YAAa,WAAb,aAAa,CAAA;AACtB,IAAA,KAAM,kCAAN,MAAM,EAAA;AAMhB,IAAA,qBAA6C,WAA7C,6CAA6C,CAAA;AACrB,IAAA,UAAwB,WAAxB,wBAAwB,CAAA;AAMhD,IAAA,WAA+B,WAA/B,+BAA+B,CAAA;AACD,IAAA,qBAA0B,WAA1B,0BAA0B,CAAA;AACb,IAAA,MAAkB,WAAlB,kBAAkB,CAAA;AACpC,IAAA,OAAU,WAAV,UAAU,CAAA;AACT,IAAA,iBAAkD,WAAlD,kDAAkD,CAAA;;;;;;AAQnF,MAAMA,WAAW,GAAG,mBAAmB;AAEhC,MAAMC,qBAAqB,GAAG,IAAIC,GAAG,EAAE;QAAjCD,qBAAqB,GAArBA,qBAAqB;AAE3B,MAAME,eAAe,GAAG,IAAID,GAAG,EAA2B;QAApDC,eAAe,GAAfA,eAAe;AACrB,MAAMC,mBAAmB,GAAG,IAAIF,GAAG,EAA2B;QAAxDE,mBAAmB,GAAnBA,mBAAmB;AAEhC,IAAIC,iBAAiB,GAAsB,EAAE;AAC7C,IAAIC,qBAAqB,GAAsB,EAAE;AAE1C,MAAMC,uBAAuB;IAKlCC,YAAYC,OAAgB,CAAE;QAC5B,IAAI,CAACC,GAAG,GAAGD,OAAO,CAACC,GAAG;QACtB,IAAI,CAACC,MAAM,GAAGF,OAAO,CAACE,MAAM;QAC5B,IAAI,CAACC,YAAY,GAAGH,OAAO,CAACG,YAAY;KACzC;IAEDC,KAAK,CAACC,QAA0B,EAAE;QAChCA,QAAQ,CAACC,KAAK,CAACC,WAAW,CAACC,GAAG,CAC5BjB,WAAW,EACX,CAACgB,WAAW,EAAE,EAAEE,mBAAmB,CAAA,EAAE,GAAK;YACxCF,WAAW,CAACG,mBAAmB,CAACC,GAAG,CACjCC,QAAO,QAAA,CAACC,YAAY,CAACC,gBAAgB,EACrCL,mBAAmB,CACpB;YACDF,WAAW,CAACQ,mBAAmB,CAACJ,GAAG,CACjCC,QAAO,QAAA,CAACC,YAAY,CAACC,gBAAgB,EACrC,IAAIF,QAAO,QAAA,CAACC,YAAY,CAACG,cAAc,CAACC,QAAQ,EAAE,CACnD;SACF,CACF;QAEDZ,QAAQ,CAACC,KAAK,CAACY,UAAU,CAACC,UAAU,CAAC5B,WAAW,EAAE,CAACgB,WAAW,GAAK;YACjE,OAAO,IAAI,CAACa,mBAAmB,CAACf,QAAQ,EAAEE,WAAW,CAAC,CAAA;SACvD,CAAC;QAEFF,QAAQ,CAACC,KAAK,CAACe,YAAY,CAACb,GAAG,CAACjB,WAAW,EAAE,CAACgB,WAAW,GAAK;YAC5De,CAAAA,GAAAA,OAAe,AASb,CAAA,gBATa,CAACf,WAAW,EAAE,CAACgB,GAAG,GAAK;gBACpC,6DAA6D;gBAC7D,yFAAyF;gBACzF,4EAA4E;gBAC5E,IAAIA,GAAG,CAACC,OAAO,IAAID,GAAG,CAACE,QAAQ,IAAI,CAACF,GAAG,CAACG,SAAS,CAACC,GAAG,EAAE;oBACrD,IAAIpB,WAAW,CAACqB,WAAW,CAACC,OAAO,CAACN,GAAG,CAAC,EAAE;wBACxCO,qBAAoB,qBAAA,CAACC,GAAG,CAACR,GAAG,CAACE,QAAQ,CAAC;qBACvC;iBACF;aACF,CAAC;YAEF,MAAMO,YAAY,GAAG,CAACC,KAAa,EAAEV,GAAQ,GAAK;oBAC5BA,GAAuB;gBAA3C,MAAMW,WAAW,GAAGX,CAAAA,CAAAA,GAAuB,GAAvBA,GAAG,CAACY,mBAAmB,SAAM,GAA7BZ,KAAAA,CAA6B,GAA7BA,GAAuB,CAAEa,IAAI,CAAA,IAAIb,GAAG,CAACE,QAAQ;gBAEjE,IAAIF,GAAG,CAACc,KAAK,KAAKC,UAAc,eAAA,CAACC,MAAM,EAAE;oBACvC,OAAM;iBACP;gBAED,yHAAyH;gBACzH,IAAI,OAAON,KAAK,KAAK,WAAW,IAAIC,WAAW,EAAE;oBAC/C,4EAA4E;oBAC5E,6EAA6E;oBAC7E,sBAAsB;oBACtB,IAAIM,gBAAgB,GAAGJ,KAAI,QAAA,CAACK,QAAQ,CAACpC,QAAQ,CAACqC,OAAO,EAAER,WAAW,CAAC;oBAEnE,IAAI,CAACM,gBAAgB,CAACG,UAAU,CAAC,GAAG,CAAC,EAAE;wBACrC,+BAA+B;wBAC/BH,gBAAgB,GAAG,CAAC,EAAE,EAAEI,CAAAA,GAAAA,iBAAgB,AAAkB,CAAA,iBAAlB,CAACJ,gBAAgB,CAAC,CAAC,CAAC;qBAC7D;oBAED,IAAI,IAAI,CAACrC,YAAY,EAAE;wBACrBR,mBAAmB,CAACgB,GAAG,CACrB6B,gBAAgB,CAACK,OAAO,wBAAwB,aAAa,CAAC,EAC9DZ,KAAK,CACN;qBACF,MAAM;wBACLvC,eAAe,CAACiB,GAAG,CAAC6B,gBAAgB,EAAEP,KAAK,CAAC;qBAC7C;iBACF;aACF;YAEDX,CAAAA,GAAAA,OAAe,AAEb,CAAA,gBAFa,CAACf,WAAW,EAAE,CAACgB,GAAG,EAAEuB,MAAM,EAAEC,WAAW,EAAEd,KAAK,GAAK;gBAChED,YAAY,CAACgB,MAAM,CAACf,KAAK,CAAC,EAAEV,GAAG,CAAC;aACjC,CAAC;SACH,CAAC;KACH;IAED,MAAMH,mBAAmB,CAACf,QAAa,EAAEE,WAAgB,EAAE;QACzD,MAAM0C,+BAA+B,GAEjC,EAAE;QAEN,mCAAmC;QACnC,SAASC,kBAAkB,CACzBC,QAMU,EACV;YACA,KAAK,MAAM,CAACC,IAAI,EAAEC,KAAK,CAAC,IAAI9C,WAAW,CAAC+C,OAAO,CAACA,OAAO,EAAE,CAAE;oBAMvDD,GAAkB;gBALpB,gCAAgC;gBAChC,IAAID,IAAI,CAACT,UAAU,CAAC,QAAQ,CAAC,EAAE,SAAQ;gBAEvC,wDAAwD;gBACxD,MAAMY,eAAe,GACnBF,CAAAA,GAAkB,GAAlBA,KAAK,CAACxC,YAAY,SAAK,GAAvBwC,KAAAA,CAAuB,GAAvBA,GAAkB,AAAE,CAAC,CAAC,CAAC;gBACzB,mDAAmD;gBACnD,IAAI,CAACE,eAAe,IAAI,CAACA,eAAe,CAAC/B,OAAO,EAAE,SAAQ;gBAE1D,MAAMA,OAAO,GAAG+B,eAAe,CAAC/B,OAAO;gBAEvC,IACE,CAACA,OAAO,CAACmB,UAAU,CAAC,uBAAuB,CAAC,IAC5C,CAACnB,OAAO,CAACmB,UAAU,CAAC,kBAAkB,CAAC,EAEvC,SAAQ;gBAEV,IAAIa,WAAW,GACbjD,WAAW,CAACqB,WAAW,CAAC6B,iBAAiB,CAACF,eAAe,CAAC;gBAE5D,IAAI/B,OAAO,CAACmB,UAAU,CAAC,uBAAuB,CAAC,EAAE;oBAC/Ca,WAAW,CAAC3C,YAAY,CAAC6C,OAAO,CAAC,CAACC,UAAU,GAAK;wBAC/C,MAAMC,UAAU,GAAuB,AAACD,UAAU,CAASnC,OAAO;wBAClE,IAAIoC,UAAU,QAAU,GAApBA,KAAAA,CAAoB,GAApBA,UAAU,CAAEC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;4BAC3CL,WAAW,GACTjD,WAAW,CAACqB,WAAW,CAAC6B,iBAAiB,CAACE,UAAU,CAAC;yBACxD;qBACF,CAAC;iBACH;gBAEDR,QAAQ,CAAC;oBAAEC,IAAI;oBAAEI,WAAW;iBAAE,CAAC;aAChC;SACF;QAED,4EAA4E;QAC5E,0BAA0B;QAC1BN,kBAAkB,CAAC,CAAC,EAAEE,IAAI,CAAA,EAAEI,WAAW,CAAA,EAAE,GAAK;YAC5C,MAAMM,mCAAmC,GAAG,IAAIC,GAAG,EAEhD;YAEH,KAAK,MAAMC,UAAU,IAAIzD,WAAW,CAACqB,WAAW,CAACqC,sBAAsB,CACrET,WAAW,CACZ,CAAE;gBACD,uFAAuF;gBACvF,MAAMD,eAAe,GAAGS,UAAU,CAACL,UAAU;gBAC7C,MAAMO,YAAY,GAAGF,UAAU,CAACL,UAAU,CAACnC,OAAO;gBAElD,MAAM,CAAC2C,sBAAsB,CAAC,GAC5B,IAAI,CAACC,0CAA0C,CAAC;oBAC9CF,YAAY;oBACZ3D,WAAW;oBACXoD,UAAU,EAAEJ,eAAe;iBAC5B,CAAC;gBAEJ,MAAMc,iBAAiB,GAAGjC,KAAI,QAAA,CAACkC,UAAU,CAACJ,YAAY,CAAC;gBAEvD,mDAAmD;gBACnD,IAAI,CAACG,iBAAiB,EAAE;oBACtBF,sBAAsB,CAACT,OAAO,CAAC,CAACa,KAAK,GACnCT,mCAAmC,CAAC/B,GAAG,CAACwC,KAAK,CAAC,CAC/C;oBACD,SAAQ;iBACT;gBAED,MAAMC,eAAe,GAAGH,iBAAiB,GACrCjC,KAAI,QAAA,CAACK,QAAQ,CAAClC,WAAW,CAACP,OAAO,CAAC0C,OAAO,EAAEwB,YAAY,CAAC,GACxDA,YAAY;gBAEhB,8CAA8C;gBAC9C,MAAMO,UAAU,GAAG7B,CAAAA,GAAAA,iBAAgB,AAElC,CAAA,iBAFkC,CACjC4B,eAAe,CAAC3B,OAAO,iBAAiB,EAAE,CAAC,CAACA,OAAO,cAAc,EAAE,CAAC,CACrE;gBAEDI,+BAA+B,CAACyB,IAAI,CAClC,IAAI,CAACC,8BAA8B,CAAC;oBAClCtE,QAAQ;oBACRE,WAAW;oBACXqE,SAAS,EAAExB,IAAI;oBACfe,sBAAsB;oBACtBM,UAAU;iBACX,CAAC,CACH;aACF;YAED,sBAAsB;YACtBxB,+BAA+B,CAACyB,IAAI,CAClC,IAAI,CAACC,8BAA8B,CAAC;gBAClCtE,QAAQ;gBACRE,WAAW;gBACXqE,SAAS,EAAExB,IAAI;gBACfe,sBAAsB,EAAE;uBAAIL,mCAAmC;iBAAC;gBAChEW,UAAU,EAAEI,WAAoB,qBAAA;aACjC,CAAC,CACH;SACF,CAAC;QAEF,2EAA2E;QAC3E,wBAAwB;QACxBtE,WAAW,CAACD,KAAK,CAACwE,oBAAoB,CAACtE,GAAG,CAACjB,WAAW,EAAE,IAAM;YAC5D,MAAMwF,kBAAkB,GAAgC,EAAE;YAC1D,IAAI,IAAI,CAAC5E,YAAY,EAAE;gBACrBN,qBAAqB,GAAG,EAAE;aAC3B,MAAM;gBACLD,iBAAiB,GAAG,EAAE;aACvB;YAED,IAAIoF,WAAW,GAAG,IAAI,CAAC7E,YAAY,GAC/BN,qBAAqB,GACrBD,iBAAiB;YAErB,SAASqF,aAAa,CAACL,SAAiB,EAAErD,GAAQ,EAAE;gBAClD,MAAME,QAAQ,GAAGF,GAAG,CAACE,QAAQ;gBAC7B,MAAMQ,KAAK,GAAGR,QAAQ;gBACtB,IAAIQ,KAAK,EAAE;oBACT,IAAIiD,MAAQ,SAAA,CAACC,IAAI,CAAClD,KAAK,CAAC,EAAE;wBACxB8C,kBAAkB,CAACH,SAAS,CAAC,CAAC7C,GAAG,CAACE,KAAK,CAAC;qBACzC;iBACF;aACF;YAED1B,WAAW,CAAC6E,WAAW,CAAC1B,OAAO,CAAC,CAAC2B,UAAe,GAAK;gBACnDA,UAAU,CAACC,MAAM,CAAC5B,OAAO,CAAC,CAAC6B,KAAoB,GAAK;oBAClD,kCAAkC;oBAClC,IAAI,CAACA,KAAK,CAACnC,IAAI,EAAE,OAAM;oBACvB,IAAI,CAACmC,KAAK,CAACnC,IAAI,CAACoC,QAAQ,CAAC,OAAO,CAAC,EAAE,OAAM;oBAEzC,MAAMZ,SAAS,GAAGxC,KAAI,QAAA,CAACqD,IAAI,CAAC,IAAI,CAACvF,MAAM,EAAE,IAAI,EAAEqF,KAAK,CAACnC,IAAI,CAAC;oBAE1D,IAAI,CAAC2B,kBAAkB,CAACH,SAAS,CAAC,EAAE;wBAClCG,kBAAkB,CAACH,SAAS,CAAC,GAAG,IAAIb,GAAG,EAAE;qBAC1C;oBAED,MAAM2B,YAAY,GAAGnF,WAAW,CAACoF,UAAU,CAACC,uBAAuB,CACjEL,KAAK,CACN,AAAkC;oBACnC,KAAK,MAAMhE,GAAG,IAAImE,YAAY,CAAE;wBAC9BT,aAAa,CAACL,SAAS,EAAErD,GAAG,CAAC;wBAE7B,MAAMsE,SAAS,GAAGtE,GAAG,AAAO;wBAC5B,IAAIsE,SAAS,CAACC,OAAO,EAAE;4BACrBD,SAAS,CAACC,OAAO,CAACpC,OAAO,CAAC,CAACqC,eAAoB,GAAK;gCAClDd,aAAa,CAACL,SAAS,EAAEmB,eAAe,CAAC;6BAC1C,CAAC;yBACH;qBACF;oBAED,MAAMC,YAAY,GAChBhB,WAAW,CAACiB,kBAAkB,IAAI,EAAE;oBACtCD,YAAY,CAACpB,SAAS,CAAC,GAAG;2BAAIG,kBAAkB,CAACH,SAAS,CAAC;qBAAC;oBAE5DsB,MAAM,CAACC,MAAM,CAACnB,WAAW,EAAE;wBACzBiB,kBAAkB,EAAED,YAAY;qBACjC,CAAC;iBACH,CAAC;aACH,CAAC;YAEF9C,kBAAkB,CAAC,CAAC,EAAEE,IAAI,CAAA,EAAEI,WAAW,CAAA,EAAE,GAAK;gBAC5C,qEAAqE;gBACrE,2EAA2E;gBAC3E,gBAAgB;gBAChB,MAAM4C,wBAAwB,GAAwB,EAAE;gBACxD,MAAM/C,KAAK,GAAG9C,WAAW,CAAC+C,OAAO,CAAC+C,GAAG,CAACjD,IAAI,CAAC;gBAC3CC,KAAK,CAACiD,mBAAmB,CAAC5C,OAAO,CAAC,CAAC6C,GAAQ,GAAK;oBAC9C,IACEA,GAAG,CAAC/E,OAAO,IACX+E,GAAG,CAAC/E,OAAO,CAACmB,UAAU,CAAC,kCAAkC,CAAC,EAC1D;wBACA,MAAMpB,GAAG,GACPhB,WAAW,CAACqB,WAAW,CAAC6B,iBAAiB,CAAC8C,GAAG,CAAC;wBAEhDhG,WAAW,CAACqB,WAAW,CACpBqC,sBAAsB,CAAC1C,GAAG,CAAC,CAC3BmC,OAAO,CAAC,CAACM,UAAe,GAAK;4BAC5B,IAAIA,UAAU,CAACL,UAAU,EAAE;gCACzByC,wBAAwB,CAACpC,UAAU,CAACL,UAAU,CAACnC,OAAO,CAAC,GACrDwC,UAAU,CAACL,UAAU;6BACxB;yBACF,CAAC;qBACL;iBACF,CAAC;gBAEF,MAAM6C,OAAO,GAAG,IAAIzC,GAAG,EAAU;gBACjC,KAAK,MAAMC,WAAU,IAAIzD,WAAW,CAACqB,WAAW,CAACqC,sBAAsB,CACrET,WAAW,CACZ,CAAE;oBACD,MAAMD,eAAe,GAAGS,WAAU,CAACL,UAAU;oBAC7C,MAAMO,YAAY,GAAGF,WAAU,CAACL,UAAU,CAACnC,OAAO;oBAElD,oEAAoE;oBACpE,oEAAoE;oBACpE,IAAIgF,OAAO,CAACC,GAAG,CAACvC,YAAY,CAAC,EAAE,SAAQ;oBACvCsC,OAAO,CAACzE,GAAG,CAACmC,YAAY,CAAC;oBAEzB,MAAM,GAAGwC,UAAU,CAAC,GAClB,IAAI,CAACtC,0CAA0C,CAAC;wBAC9CF,YAAY;wBACZ3D,WAAW;wBACXoD,UAAU,EAAEJ,eAAe;wBAC3B6C,wBAAwB;qBACzB,CAAC;oBAEJF,MAAM,CAACC,MAAM,CAACnB,WAAW,EAAE0B,UAAU,CAAC;iBACvC;aACF,CAAC;SACH,CAAC;QAEFnG,WAAW,CAACD,KAAK,CAACqG,aAAa,CAACnG,GAAG,CACjC;YACE4C,IAAI,EAAE7D,WAAW;YACjB,iEAAiE;YACjE,0CAA0C;YAC1CqH,KAAK,EAAEhG,QAAO,QAAA,CAACiG,WAAW,CAACC,kCAAkC;SAC9D,EACD,CAACC,MAAqC,GAAK;YACzC,MAAMC,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAC7B;gBACE,GAAGtH,iBAAiB;gBACpB,GAAGC,qBAAqB;gBACxBoG,kBAAkB,EAAE;oBAClB,GAAGrG,iBAAiB,CAACqG,kBAAkB;oBACvC,GAAGpG,qBAAqB,CAACoG,kBAAkB;iBAC5C;aACF,EACD,IAAI,EACJ,IAAI,CAAChG,GAAG,GAAG,CAAC,GAAGkH,SAAS,CACzB;YACDJ,MAAM,CAACK,WAA0B,2BAAA,GAAG,OAAO,CAAC,GAAG,IAAIC,QAAO,QAAA,CAACC,SAAS,CAClEN,QAAQ,CACT,AAAwC;YACzCD,MAAM,CAACK,WAA0B,2BAAA,GAAG,KAAK,CAAC,GAAG,IAAIC,QAAO,QAAA,CAACC,SAAS,CAChE,0BAA0B,GAAGN,QAAQ,CACtC,AAAwC;SAC1C,CACF;QAED,qDAAqD;QACrD,MAAMO,WAAW,GAAGC,CAAAA,GAAAA,qBAAc,AAAE,CAAA,eAAF,EAAE;QACpC,4DAA4D;QAC5D,IACED,WAAW,IACXtE,+BAA+B,CAACwE,IAAI,CAClC,CAAC,CAACC,gBAAgB,CAAC,GAAKA,gBAAgB,KAAK,IAAI,CAClD,EACD;YACAH,WAAW,CAACI,UAAU,CAAC;gBAACC,WAAc,eAAA,CAACrF,MAAM;aAAC,CAAC;SAChD;QAED,qGAAqG;QACrG,6EAA6E;QAC7E,MAAMsF,OAAO,CAACC,GAAG,CACf7E,+BAA+B,CAAC8E,GAAG,CACjC,CAACC,2BAA2B,GAAKA,2BAA2B,CAAC,CAAC,CAAC,CAChE,CACF;KACF;IAED5D,0CAA0C,CAAC,EACzCF,YAAY,CAAA,EACZ3D,WAAW,CAAA,EACXoD,UAAU,CAAA,EACVyC,wBAAwB,CAAA,EAMzB,EAAwC;QACvC;;OAEG,CACH,MAAM6B,gBAAgB,GAAuC,EAAE;QAC/D,MAAM9D,sBAAsB,GAA2B,EAAE;QACzD,MAAM+D,UAAU,GAAe,EAAE;QAEjC,MAAMC,sBAAsB,GAAG,CAC7BC,kBAAuB,EACvBC,yBAAkC,GACzB;gBAYP9G,GAAuB,EAASA,IAAuB;YAXzD,MAAMA,GAAG,GACPhB,WAAW,CAACqB,WAAW,CAAC6B,iBAAiB,CAAC2E,kBAAkB,CAAC;YAC/D,IAAI,CAAC7G,GAAG,EAAE,OAAM;YAEhB,MAAM+G,UAAU,GAAG/G,GAAG,CAAC+G,UAAU;YACjC,MAAMC,KAAK,GAAGrD,MAAQ,SAAA,CAACC,IAAI,CAACmD,UAAU,CAAC;YAEvC,mEAAmE;YACnE,yEAAyE;YACzE,0EAA0E;YAC1E,MAAM1E,UAAU,GACdrC,CAAAA,CAAAA,GAAuB,GAAvBA,GAAG,CAACY,mBAAmB,SAAM,GAA7BZ,KAAAA,CAA6B,GAA7BA,GAAuB,CAAEa,IAAI,CAAA,GAAGb,CAAAA,CAAAA,IAAuB,GAAvBA,GAAG,CAACY,mBAAmB,SAAO,GAA9BZ,KAAAA,CAA8B,GAA9BA,IAAuB,CAAEiH,KAAK,CAAA;YAEhE,iEAAiE;YACjE,IAAI,CAACP,gBAAgB,CAAC/D,YAAY,CAAC,EAAE;gBACnC+D,gBAAgB,CAAC/D,YAAY,CAAC,GAAG,IAAIH,GAAG,EAAE;aAC3C;YACD,MAAM0E,QAAQ,GACZ,CAACJ,yBAAyB,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAGzE,UAAU;YAC5D,IAAI,CAACA,UAAU,IAAIqE,gBAAgB,CAAC/D,YAAY,CAAC,CAACuC,GAAG,CAACgC,QAAQ,CAAC,EAAE;gBAC/D,OAAM;aACP;YACDR,gBAAgB,CAAC/D,YAAY,CAAC,CAACnC,GAAG,CAAC0G,QAAQ,CAAC;YAE5C,MAAMC,iBAAiB,GAAGC,CAAAA,GAAAA,MAAuB,AAAK,CAAA,wBAAL,CAACpH,GAAG,CAAC;YAEtD,IAAIgH,KAAK,EAAE;gBACT,MAAMK,cAAc,GAClBrH,GAAG,CAACsH,WAAW,IAAI,AAACtH,GAAG,CAACsH,WAAW,CAASD,cAAc;gBAE5D,IAAIA,cAAc,EAAE;oBAClB,MAAME,MAAM,GAAG,CAACvI,WAAW,CAACqB,WAAW,CACpCmH,cAAc,CAACxH,GAAG,CAAC,CACnByH,YAAY,CACX,IAAI,CAAC7I,YAAY,GAAG8I,WAAoB,qBAAA,GAAG,iBAAiB,CAC7D;oBAEH,IAAIH,MAAM,EAAE;wBACV,OAAM;qBACP;iBACF;gBAEDZ,UAAU,CAAChE,YAAY,CAAC,GAAGgE,UAAU,CAAChE,YAAY,CAAC,IAAI,EAAE;gBACzDgE,UAAU,CAAChE,YAAY,CAAC,CAACQ,IAAI,CAACd,UAAU,CAAC;aAC1C;YAED,oCAAoC;YACpC,IAAI,AAAC,CAACyE,yBAAyB,IAAIK,iBAAiB,IAAKH,KAAK,EAAE;gBAC9DpE,sBAAsB,CAACO,IAAI,CAACd,UAAU,CAAC;gBAEvC,8EAA8E;gBAC9E,2BAA2B;gBAC3B,IAAI8E,iBAAiB,IAAItC,wBAAwB,EAAE;oBACjD,IAAIA,wBAAwB,CAACxC,UAAU,CAAC,EAAE;wBACxCuE,sBAAsB,CAAC/B,wBAAwB,CAACxC,UAAU,CAAC,EAAE,IAAI,CAAC;qBACnE;iBACF;gBAED,OAAM;aACP;YAEDrD,WAAW,CAACqB,WAAW,CACpBqC,sBAAsB,CAAC1C,GAAG,CAAC,CAC3BmC,OAAO,CAAC,CAACM,UAAe,GAAK;gBAC5BmE,sBAAsB,CACpBnE,UAAU,CAACL,UAAU,EACrB0E,yBAAyB,IAAIK,iBAAiB,CAC/C;aACF,CAAC;SACL;QAED,2DAA2D;QAC3DP,sBAAsB,CAACxE,UAAU,EAAE,KAAK,CAAC;QAEzC,OAAO;YAACQ,sBAAsB;YAAE+D,UAAU;SAAC,CAAA;KAC5C;IAEDvD,8BAA8B,CAAC,EAC7BtE,QAAQ,CAAA,EACRE,WAAW,CAAA,EACXqE,SAAS,CAAA,EACTT,sBAAsB,CAAA,EACtBM,UAAU,CAAA,EAOX,EAA+D;QAC9D,IAAIiD,gBAAgB,GAAG,KAAK;QAE5B,MAAMwB,aAAa,GAAuC;YACxDpD,OAAO,EAAE3B,sBAAsB;YAC/BgF,MAAM,EAAE,KAAK;SACd;QAED,uEAAuE;QACvE,0EAA0E;QAC1E,gBAAgB;QAChB,MAAMC,YAAY,GAAG,CAAC,gCAAgC,EAAElC,CAAAA,GAAAA,YAAS,AAO/D,CAAA,UAP+D,CAAC;YAChEpB,OAAO,EAAE,IAAI,CAAC3F,YAAY,GACtBgE,sBAAsB,CAAC4D,GAAG,CAAC,CAACsB,UAAU,GACpCA,UAAU,CAACxG,OAAO,CAAC,gBAAgB,EAAE,YAAY,CAAC,CACnD,GACDsB,sBAAsB;YAC1BgF,MAAM,EAAE,KAAK;SACd,CAAC,CAAC,CAAC,CAAC;QAEL,MAAMG,eAAe,GAAG,CAAC,gCAAgC,EAAEpC,CAAAA,GAAAA,YAAS,AAGlE,CAAA,UAHkE,CAAC;YACnE,GAAGgC,aAAa;YAChBC,MAAM,EAAE,IAAI;SACb,CAAC,CAAC,CAAC,CAAC;QAEL,iCAAiC;QACjC,2CAA2C;QAC3C,IAAI,IAAI,CAAClJ,GAAG,EAAE;YACZ,MAAMsJ,OAAO,GAAG3B,WAAc,eAAA,CAACrF,MAAM,GAAGkC,UAAU;YAClD,IAAI,CAACnB,qBAAO,QAAA,CAACiG,OAAO,CAAC,EAAE;gBACrBjG,qBAAO,QAAA,CAACiG,OAAO,CAAC,GAAG;oBACjBC,IAAI,EAAEC,qBAAU,WAAA,CAACC,WAAW;oBAC5BC,aAAa,EAAE,IAAI5F,GAAG,CAAC;wBAACa,SAAS;qBAAC,CAAC;oBACnCH,UAAU;oBACVjD,OAAO,EAAE4H,YAAY;oBACrBQ,OAAO,EAAE,KAAK;oBACdC,cAAc,EAAEC,IAAI,CAACC,GAAG,EAAE;iBAC3B;gBACDrC,gBAAgB,GAAG,IAAI;aACxB,MAAM;gBACL,MAAMsC,SAAS,GAAG1G,qBAAO,QAAA,CAACiG,OAAO,CAAC;gBAClC,mCAAmC;gBACnC,IAAIS,SAAS,CAACxI,OAAO,KAAK4H,YAAY,EAAE;oBACtCY,SAAS,CAACxI,OAAO,GAAG4H,YAAY;oBAChC1B,gBAAgB,GAAG,IAAI;iBACxB;gBACD,IAAIsC,SAAS,CAACR,IAAI,KAAKC,qBAAU,WAAA,CAACC,WAAW,EAAE;oBAC7CM,SAAS,CAACL,aAAa,CAAC5H,GAAG,CAAC6C,SAAS,CAAC;iBACvC;aACF;SACF,MAAM;YACLpF,qBAAqB,CAACmB,GAAG,CAAC8D,UAAU,EAAE2E,YAAY,CAAC;SACpD;QAED,2DAA2D;QAC3D,MAAMa,uBAAuB,GAAGrJ,QAAO,QAAA,CAACsJ,WAAW,CAACC,gBAAgB,CAClEb,eAAe,EACf;YACElG,IAAI,EAAEqB,UAAU;SACjB,CACF;QAED,OAAO;YACLiD,gBAAgB;YAChB,6CAA6C;YAC7C,gGAAgG;YAChG,qEAAqE;YACrE,IAAI,CAAC0C,QAAQ,CACX7J,WAAW,EACX,6BAA6B;YAC7BF,QAAQ,CAACqC,OAAO,EAChBuH,uBAAuB,EACvB;gBACE,+BAA+B;gBAC/B7G,IAAI,EAAEwB,SAAS;gBACf,6CAA6C;gBAC7C,iEAAiE;gBACjEvC,KAAK,EAAEC,UAAc,eAAA,CAACC,MAAM;aAC7B,CACF;SACF,CAAA;KACF;IAED6H,QAAQ,CACN7J,WAAgB,EAChBmC,OAAe,EACfiB,UAA8B,EAC9B3D,OAA6B,EACf,qBAAqB,CAAC;QACpC,OAAO,IAAI6H,OAAO,CAAC,CAACwC,OAAO,EAAEC,MAAM,GAAK;YACtC,MAAMjH,KAAK,GAAG9C,WAAW,CAAC+C,OAAO,CAAC+C,GAAG,CAACrG,OAAO,CAACoD,IAAI,CAAC;YACnDC,KAAK,CAACiD,mBAAmB,CAAC5B,IAAI,CAACf,UAAU,CAAC;YAC1CpD,WAAW,CAACD,KAAK,CAAC8J,QAAQ,CAACG,IAAI,CAAClH,KAAK,EAAErD,OAAO,CAAC;YAC/CO,WAAW,CAACiK,aAAa,CACvB;gBACE9H,OAAO;gBACPiB,UAAU;gBACV8G,WAAW,EAAE;oBAAEC,WAAW,EAAE1K,OAAO,CAACqC,KAAK;iBAAE;aAC5C,EACD,CAACsI,GAAsB,EAAEC,MAAW,GAAK;gBACvC,IAAID,GAAG,EAAE;oBACPpK,WAAW,CAACD,KAAK,CAACuK,WAAW,CAACN,IAAI,CAAC5G,UAAU,EAAE3D,OAAO,EAAE2K,GAAG,CAAC;oBAC5D,OAAOL,MAAM,CAACK,GAAG,CAAC,CAAA;iBACnB;gBAEDpK,WAAW,CAACD,KAAK,CAACwK,YAAY,CAACP,IAAI,CAAC5G,UAAU,EAAE3D,OAAO,EAAE4K,MAAM,CAAC;gBAChE,OAAOP,OAAO,CAACO,MAAM,CAAC,CAAA;aACvB,CACF;SACF,CAAC,CAAA;KACH;CACF;QA7jBY9K,uBAAuB,GAAvBA,uBAAuB"}