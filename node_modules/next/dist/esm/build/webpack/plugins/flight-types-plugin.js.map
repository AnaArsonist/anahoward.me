{"version":3,"sources":["../../../../../src/build/webpack/plugins/flight-types-plugin.ts"],"names":["path","promises","fs","webpack","sources","WEBPACK_LAYERS","PLUGIN_NAME","createTypeGuardFile","fullPath","relativePath","options","slots","map","slot","join","type","collectNamedSlots","layoutPath","layoutDir","dirname","items","readdir","withFileTypes","item","isDirectory","name","startsWith","push","slice","FlightTypesPlugin","constructor","dir","distDir","appDir","dev","isEdgeServer","apply","compiler","distDirRelative","relative","assetDirRelative","handleModule","_mod","assets","layer","server","mod","resource","sep","test","IS_LAYOUT","IS_PAGE","relativePathToApp","relativePathToRoot","typePath","replace","relativeImportPath","assetPath","RawSource","hooks","compilation","tap","processAssets","tapAsync","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","callback","entrypoint","entrypoints","values","chunk","chunks","chunkGraph","getChunkModules","forEach","Promise","all"],"mappings":"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"}