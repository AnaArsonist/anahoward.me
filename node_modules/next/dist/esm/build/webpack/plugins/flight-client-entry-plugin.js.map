{"version":3,"sources":["../../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["webpack","stringify","path","sources","getInvalidator","entries","EntryTypes","WEBPACK_LAYERS","APP_CLIENT_INTERNALS","COMPILER_NAMES","EDGE_RUNTIME_WEBPACK","FLIGHT_SERVER_CSS_MANIFEST","ASYNC_CLIENT_MODULES","isClientComponentModule","regexCSS","traverseModules","normalizePathSep","PLUGIN_NAME","injectedClientEntries","Map","serverModuleIds","edgeServerModuleIds","serverCSSManifest","edgeServerCSSManifest","FlightClientEntryPlugin","constructor","options","dev","appDir","isEdgeServer","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","mod","request","resource","buildInfo","rsc","moduleGraph","isAsync","add","recordModule","modId","modResource","resourceResolveData","layer","client","ssrNamedModuleId","relative","context","startsWith","replace","_chunk","_chunkGroup","String","addClientEntryAndSSRModulesList","forEachEntryModule","callback","name","entry","entryDependency","entryModule","getResolvedModule","forEach","dependency","modRequest","includes","internalClientComponentEntryImports","Set","connection","getOutgoingConnections","entryRequest","clientComponentImports","collectClientComponentsAndCSSForDependency","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","push","injectClientEntryAndSSRModules","entryName","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","test","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","__entry_css_mods__","Object","assign","clientEntryDependencyMap","get","includeDependencies","dep","tracked","has","cssImports","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","manifest","JSON","undefined","RawSource","invalidator","some","shouldInvalidate","invalidate","Promise","all","map","addClientEntryAndSSRModules","visitedBySegment","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","rawRequest","isCSS","query","storeKey","isClientComponent","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","loaderOptions","server","clientLoader","importPath","clientSSRLoader","pageKey","type","CHILD_ENTRY","parentEntries","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry"],"mappings":"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"}