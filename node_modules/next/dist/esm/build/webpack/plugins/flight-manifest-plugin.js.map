{"version":3,"sources":["../../../../../src/build/webpack/plugins/flight-manifest-plugin.ts"],"names":["webpack","sources","FLIGHT_MANIFEST","relative","sep","isClientComponentModule","regexCSS","edgeServerModuleIds","serverModuleIds","traverseModules","PLUGIN_NAME","ASYNC_CLIENT_MODULES","Set","FlightManifestPlugin","dev","constructor","options","appDir","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createAsset","context","manifest","__ssr_module_mapping__","__edge_ssr_module_mapping__","__entry_css_files__","clientRequestsSet","collectClientRequest","mod","resource","buildInfo","rsc","requests","forEach","r","add","chunkGroups","chunkGroup","recordModule","id","chunkCSS","isCSSModule","test","type","loaders","some","item","loader","includes","_identifier","slice","lastIndexOf","moduleExports","moduleIdMapping","edgeModuleIdMapping","ssrNamedModuleId","resourceResolveData","path","startsWith","replace","default","chunks","has","exportsInfo","moduleGraph","getExportsInfo","isAsyncModule","cjsExports","map","dep","base","names","filter","getAppPathRequiredChunks","requiredChunk","hash","moduleExportedKeys","concat","exports","exportInfo","provided","requiredChunks","async","get","chunk","chunkModules","chunkGraph","getChunkModulesIterable","files","f","endsWith","modId","getModuleId","anyModule","modules","concatenatedMod","entryCSSFiles","addCSSFilesToEntry","entryName","key","cssFiles","getFiles","length","getParents","parent","file","json","JSON","stringify","undefined","clear","RawSource"],"mappings":"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"}