{"version":3,"sources":["../../../../../../src/server/web/spec-extension/cookies/serialize.ts"],"names":["SAME_SITE","parseSameSite","string","toLowerCase","includes","undefined","compact","t","newT","key","serialize","c","attrs","path","expires","toUTCString","maxAge","domain","secure","httpOnly","sameSite","filter","Boolean","name","encodeURIComponent","value","join","parseCookieString","cookie","map","Map","pair","split","splitIndex","indexOf","slice","set","decodeURIComponent","parseSetCookieString","setCookie","attributes","httponly","maxage","samesite","Object","fromEntries","v","Date","Number"],"mappings":"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"}