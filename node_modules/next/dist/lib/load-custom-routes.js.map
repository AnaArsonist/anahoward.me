{"version":3,"sources":["../../../src/lib/load-custom-routes.ts"],"names":["loadCustomRoutes","normalizeRouteRegex","checkCustomRoutes","config","headers","rewrites","redirects","Promise","all","loadHeaders","loadRewrites","loadRedirects","totalRewrites","beforeFiles","length","afterFiles","fallback","totalRoutes","console","warn","chalk","bold","yellow","skipTrailingSlashRedirect","trailingSlash","unshift","source","destination","permanent","locale","i18n","undefined","internal","basePath","allowedHasTypes","Set","namedGroupsRegex","regex","replace","checkRedirect","route","invalidParts","hadInvalidStatus","statusCode","allowedStatusCodes","has","push","checkHeader","Array","isArray","header","key","value","routes","type","error","process","exit","numInvalidRoutes","hadInvalidHas","hadInvalidMissing","allowedKeys","add","JSON","stringify","startsWith","keys","Object","invalidKeys","filter","checkInvalidHasMissing","items","fieldName","hadInvalidItem","invalidHasItems","hasItem","invalidHasParts","join","itemStr","missing","_route","match","result","sourceTokens","tokens","regexStr","tryToParsePath","hasSegments","matchAll","unnamedInDest","token","name","unnamedIndex","RegExp","size","destTokens","destRegexStr","destinationParseFailed","handleUrl","sourceSegments","map","item","Boolean","invalidDestSegments","hasInvalidKeys","hasInvalidParts","processRoutes","_routes","newRoutes","defaultLocales","domains","defaultLocale","base","http","domain","r","srcBasePath","isExternal","destBasePath","forEach","locales","escapeStringRegexp","_rewrites","every"],"mappings":"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"}